<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>聊天界面</title>
    <link href="./statics/style.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>是兄弟就来砍我</h1>
        </div>
        <div class="chat-area" id="chat-area">
            <div class="message">
                <span class="name">天乐</span>
                <div class="message-box left">
                    <span class="time">18:57</span>
                    <p class="text">
                        今天吃点啥？
                    </p>
                </div>
            </div>
            <div class="message">
                <div class="message-box right">
                    <span class="time right">18:59</span>
                    <p class="text">
                        最近八合里周年店庆，咱们去薅羊毛呀
                    </p>
                </div>
                <span class="name right">热巴</span>
            </div>
            <div class="message">
                <span class="name">天乐</span>
                <div class="message-box left">
                    <span class="time">18:57</span>
                    <p class="text">
                        行收拾一下走吧，早点去排个号
                    </p>
                </div>
            </div>
        </div>
        <div class="input-area">
            <textarea placeholder="输入消息..."></textarea>
            <a class="send-btn">发送</a>
        </div>        
    </div>
    <script>
        const sendBtn = document.querySelector('.send-btn');
        const textarea = document.querySelector('textarea');
        const chatArea = document.getElementById('chat-area');
        function getCurrentTime() {
        const now = new Date();
        const hour = now.getHours();
        const minute = now.getMinutes();

        return `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;
        }   


        sendBtn.addEventListener('click', function() {
            const message = textarea.value; // 获取 textarea 里的内容

            if (message.trim() === '') {
                alert('不能发送空白消息');
                return;
            }

            // 在 chat-area 里添加 message div 展示发送内容
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message');
            messageDiv.innerHTML = `
                <div class="message-box right">
                    <span class="time right">${getCurrentTime()}</span>
                    <p class="text">
                        ${message}
                    </p>
                </div>
                <span class="name right">热巴</span>
            `;
            chatArea.appendChild(messageDiv);

            // 清空 textarea
            textarea.value = '';

            // 在这里发送消息的逻辑
            console.log(getCurrentTime());
            console.log('发送消息:', message);
        });
    </script>
</body>
</html>